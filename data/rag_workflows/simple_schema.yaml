state:
    id: simple_state
    module_path: workflow.states.simple_state
    class_name: SimpleState

entry_point: classify_question

nodes:
  - id: classify_question
    module_path: src.workflow.nodes.classify_question
    function_name: main

  - id: generate_static_answer
    module_path: src.workflow.nodes.get_static_answer
    function_name: main

  - id: retrieve_documents
    module_path: src.workflow.nodes.retrieve_documents
    function_name: main

  - id: generate_llm_answer
    module_path: src.workflow.nodes.generate_llm_answer
    function_name: main
    llm_instruction_yaml_path: data.llm_instructions.answer_generation_instruction

edges:
  - from_node: classify_question
    condition:
        id: question_classification
        module_path: src.workflow.routers.question_classification
        function_name: main
    mapping:
      OFF_TOPIC: generate_static_answer
      ON_TOPIC: retrieve_documents

### STATIC ANSWER
  - from_node: generate_static_answer
    to_node: __end__

### RETRIEVAL AUGMENTED GENERATION
  - from_node: retrieve_documents
    to_node: generate_llm_answer

  - from_node: generate_llm_answer
    to_node: __end__
